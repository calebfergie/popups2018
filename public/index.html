<!doctype html>
<html>
  <head>
	 
	 <!-- 	p5.js  -->
 	<!-- <script language="javascript" type="text/javascript" src="p5.min.js"></script>
	<script language="javascript" type="text/javascript" src="p5.dom.min.js"></script> -->

	<!--  jQuery -->
	<script language="javascript" type="text/javascript" src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    <!-- jQuery mobile  -->
    <script src="//code.jquery.com/mobile/1.5.0-alpha.1/jquery.mobile-1.5.0-alpha.1.min.js"></script>
    <!-- Plugin JavaScript -->
   <!--  <script src="vendor/jquery-easing/jquery.easing.min.js"></script> -->
    <!-- Socket.io -->
	<script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
	 <!-- Disabling auto-highlight/longpress on mobile devices -->
	<script type="text/javascript">
      /*
       Longclick Event
       Copyright (c) 2010 Petr Vostrel (http://petr.vostrel.cz/)
       Dual licensed under the MIT (MIT-LICENSE.txt)
       and GPL (GPL-LICENSE.txt) licenses.

       Version: 0.3.2
       Updated: 2010-06-22
      */
      (function(a){function n(b){a.each("touchstart touchmove touchend touchcancel".split(/ /),function(d,e){b.addEventListener(e,function(){a(b).trigger(e)},false)});return a(b)}function j(b){function d(){a(e).data(h,true);b.type=f;jQuery.event.handle.apply(e,o)}if(!a(this).data(g)){var e=this,o=arguments;a(this).data(h,false).data(g,setTimeout(d,a(this).data(i)||a.longclick.duration))}}function k(){a(this).data(g,clearTimeout(a(this).data(g))||null)}function l(b){if(a(this).data(h))return b.stopImmediatePropagation()||
      false}var p=a.fn.click;a.fn.click=function(b,d){if(!d)return p.apply(this,arguments);return a(this).data(i,b||null).bind(f,d)};a.fn.longclick=function(){var b=[].splice.call(arguments,0),d=b.pop();b=b.pop();var e=a(this).data(i,b||null);return d?e.click(b,d):e.trigger(f)};a.longclick={duration:500};a.event.special.longclick={setup:function(){/iphone|ipad|ipod/i.test(navigator.userAgent)?n(this).bind(q,j).bind([r,s,t].join(" "),k).bind(m,l).css({WebkitUserSelect:"none"}):a(this).bind(u,j).bind([v,
      w,x,y].join(" "),k).bind(m,l)},teardown:function(){a(this).unbind(c)}};var f="longclick",c="."+f,u="mousedown"+c,m="click"+c,v="mousemove"+c,w="mouseup"+c,x="mouseout"+c,y="contextmenu"+c,q="touchstart"+c,r="touchend"+c,s="touchmove"+c,t="touchcancel"+c,i="duration"+c,g="timer"+c,h="fired"+c})(jQuery);    
    </script>
    <!-- Custom styles for this template -->
    <link href="style.css" rel="stylesheet">
  
  </head>
  <body>

	<div class="circle flex-center">
    </div>
    <script>
      //Disable longpress on mobile devices
      function longClickHandler(e){
          e.preventDefault();
          // $("body").append("<p>You longclicked. Nice!</p>");
      }

      // Value of Pressed or not 0 = off, 1 = on
      var value = 0;

      $("div.circle").longclick(250, longClickHandler);

      // On tap hold change color
      $(function(){
        $( "div.circle" ).bind( "taphold", tapholdHandler );
       
        function tapholdHandler( event ){
          $( event.target ).addClass( "taphold" );
          value = 1;
          socket.emit('newData', (value) =>{
          	console.log(value);
          });
  
        }
      });

      // On tap release go back to original color
      $( document ).on( "vmouseup", function() {
        $( event.target ).removeClass( "taphold" );
    });
    </script>

	<script type="text/javascript" src="script.js"></script>
	<!-- 	 <script type="text/javascript" src="script.js"></script> -->

    <p>This is an example paragraph. Anything in the <strong>body</strong> tag will appear on the page, just like this <strong>p</strong> tag and its contents.</p>

    <script type="text/javascript">

	  var socket = io();
		socket.emit('user', 'new user is connected');
		socket.on('userCount', function(userCount){
		  // console.log('total number of users online is: ' + userCount);
		});

		socket.on('receiveMessage', function(msg){
		  console.log(msg);
		  console.log("hello");
		});

		// socket.on('tapholdData', function(colorTap){
		//   console.log('Color: ' + color);
		// });

		socket.on('dimensions', function(data){
		  console.log('new data came to light...');
		});

	</script>

  </body>
</html>